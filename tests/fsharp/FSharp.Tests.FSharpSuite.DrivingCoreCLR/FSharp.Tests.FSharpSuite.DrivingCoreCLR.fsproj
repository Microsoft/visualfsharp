<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFrameworks>net45;netcoreapp2.0</TargetFrameworks>

    <DefineConstants>$(DefineConstants);FSHARP_SUITE_DRIVES_CORECLR_TESTS</DefineConstants>
    <DefineConstants>$(DefineConstants);GENERATED_SIGNATURE</DefineConstants>

    <OutputPath>$(MSBuildThisFileDirectory)\..\..\..\tests\testbin\$(Configuration)\coreclr\$(AssemblyName)</OutputPath>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="..\..\..\src\scripts\scriptlib.fsx" />
    <Compile Include="..\test-framework.fs" />
    <Compile Include="..\..\..\src\fsharp\FSharp.Compiler.Unittests\NunitHelpers.fs" />
    <Compile Include="..\single-test.fs" />
    <Compile Include="..\tests.fs" />
    <Compile Include="Program.fs" Condition="'$(TargetDotnetProfile)' == 'coreclr'" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="nunit" Version="3.7.0" />
    <PackageReference Include="nunitlite" Version="3.7.0" />
    <PackageReference Include="FSharp.Core" Version="4.2.0" />
    <PackageReference Include="Microsoft.FSharp.Compiler" Version="4.2.0-*"  Condition="'$(TargetDotnetProfile)' == 'coreclr'" />
 </ItemGroup>

</Project>